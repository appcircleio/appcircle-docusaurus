---
title: Bundle Universal Apk
description: This step creates a universal APK from an AAB file.
tags: [android, mobile, distribution, bundle, aab, apk]
---

import Screenshot from '@site/src/components/Screenshot';

# Bundle Universal Apk

The **Bundle Universal Apk** step creates a universal **APK** from an [**AAB**](https://developer.android.com/guide/app-bundle) file.

For additional details, please refer to the [**Bundletool**](https://developer.android.com/tools/bundletool) documentation.

### Prerequisites

Before running the **Bundle Universal Apk** step, you must complete certain prerequisites, as detailed in the table below:

| Prerequisite Workflow Step                                                                         | Description                                                                                                                                                              |
| -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| [**Android Build**](/workflows/android-specific-workflow-steps/android-build) | This step is necessary to generate the **AAB** app that will be converted to an **APK**.                                                                                 |
| [**Android Sign**](/workflows/android-specific-workflow-steps/android-sign)   | If you intend to use a signed app, this step must be executed beforehand to process the output. If your app is already signed in the build step, you can skip this step. |

:::caution

If a step other than the **Android Build** or **Android Sign** step is used to build or sign the app, then the **Bundle Universal Apk** step depends on this step.

:::

<Screenshot url='https://cdn.appcircle.io/docs/assets/android-workflow-components-bundle-universal-apk_1.png'/>

### Input Variables

This step contains some input variable(s). It needs these variable(s) to work. The table below gives explanation for this variable(s).

<Screenshot url='https://cdn.appcircle.io/docs/assets/android-workflow-components-bundle-universal-apk_2.png'/>

| Variable Name                   | Description                                                                                                                                                                                                                                                                                                                                                     | Status   |
| ------------------------------- |-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| -------- |
| `$AC_BUNDLETOOL_VERSION`        | Specifies the version of **Bundletool** to install. The default value is `1.11.2`. To install a different version, please refer to [this document](https://github.com/google/bundletool/releases).                                                                                                                                                              | Required |
| `$AC_SIGNED_AAB_PATH`           | The optional path of the signed **AAB** file to convert the **APK**. If this step runs after the **Android Sign** step, the variable will be automatically populated. If the signing takes place in the build step and you want to directly enter the **APK** you received from the **Android Build** step here, you can change the variable to `$AC_APK_PATH`. | Required |
| `$AC_ANDROID_KEYSTORE_PATH`     | (Autogenerated) The path to the keystore file selected via the build [Configuration](/build/build-process-management/configurations). For more details, please refer to the [Android Keystores](/signing-identities/android-keystores) documentation.                                                                                       | Required |
| `$AC_ANDROID_KEYSTORE_PASSWORD` | (Autogenerated) The password for the keystore file, generated according to the build [Configuration](/build/build-process-management/configurations). For more details, please refer to the [Android Keystores](/signing-identities/android-keystores) documentation.                                                                       | Required |
| `$AC_ANDROID_ALIAS`             | (Autogenerated) The alias for the Android Keystore, generated according to the build [Configuration](/build/build-process-management/configurations). For more details, please refer to the [Android Keystores](/signing-identities/android-keystores) documentation.                                                                       | Required |
| `$AC_ANDROID_ALIAS_PASSWORD`    | (Autogenerated) The password for the Android Keystore alias, generated according to the build [Configuration](/build/build-process-management/configurations). For more details, please refer to the [Android Keystores](/signing-identities/android-keystores) documentation.                                                              | Required |

### Output Variables

The output(s) resulting from the operation of this component are as follows:

| Variable Name         | Description                      |
| --------------------- | -------------------------------- |
| `AC_SIGNED_APK_PATH` | Path of the signed **APK** file. |

---

To access the source code of this component, please use the following link:

https://github.com/appcircleio/appcircle-bundletool-component.git
