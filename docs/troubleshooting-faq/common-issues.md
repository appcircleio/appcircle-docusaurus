---
title: Common Issues and Troubleshooting
metaTitle: Common Issues and Troubleshooting
metaDescription: Common Issues and Troubleshooting
sidebar_position: 1
---

import ContentRef from '@site/src/components/ContentRef';

# Common Issues and Troubleshooting

## Repository Connection Issues

Please note that currently only Git repositories are supported. Any third party version control repositories need to be transferred to a proper Git repository on either Github or Bitbucket.

### **How to change your connected GitHub, Bitbucket, or GitLab account?**

You will need to go to your Github, Bitbucket, or GitLab account and revoke access to Appcircle and then reconnect your account from Appcircle.

### Unable to see the repositories in the connected repository provider

Please check if you have owner/admin access in the specific organization from which the repositories will be connected. Appcircle does not allow connections to the repositories with a member-level access.

### Error accessing the repository. Please check if the repository exists or if you have the required privileges.

- Only members who have admin role on repository or are owner of the organization can install the Github App in an organization that owns that repository.
- Only members who have admin role on a repository or are owner of the organization can connect a repository to a profile.

### Unable to grant access to a GitHub organization

If you are unable to grant access to a specific organization while connecting to GitHub, it is likely that the permission for Appcircle needs an update from the organization application access settings.

To resolve, go to Organization Settings ->Third-party access and press edit next to Appcircle to authorize it for the organization.

### Issues in connecting to the repositories with SSH

For the SSH connections, a key pair in PEM format is required. The public key is entered/stored in the Git provider while the private key is entered in Appcircle.

Please refer to [this guide for the commands to generate a compatible key pair](../build/adding-a-build-profile/connecting-to-private-repository-via-ssh.md) for SSH connections.

Using multiple SSH keys is not recommended. Instead, you should create a single SSH key that has access to all the private modules. 

If you want to use multiple SSH keys, you need to complete the below steps:

- Add your SSH key(s) as environment variable group as a file.
- Select that environment group on your config screen
- Use the below custom script to add that key.
- Each key name should be unique. Appcircle's Activate SSH component uses `appcircle_ssh` as a key name.

```bash
set -e

if [ -z "$MY_OTHER_SSH_KEY" ]
then
echo "MY_OTHER_SSH_KEY is not provided. Skipping step."
exit 0
fi
echo "Create a file to save the RSA SSH private key"
mkdir -p ~/.ssh
echo "$AC_REPOSITORY_SSH_KEY" >> ~/.ssh/appcircle_new_ssh
chmod 600 ~/.ssh/appcircle_new_ssh

echo "Starting a new ssh-agent"
eval $(ssh-agent)

echo "Add the SSH private key to the ssh-agent"
ssh-add ~/.ssh/appcircle_new_ssh
echo "Exporting SSH_AUTH_SOCK=$SSH_AUTH_SOCK"
echo "SSH_AUTH_SOCK=$SSH_AUTH_SOCK" >> $AC_ENV_FILE_PATH
```

### Accessing internal/on-premise repositories

The only available option for connecting to the internal/on-premise repositories is to use SSH and whitelist Appcircle resources if the repositories are not accessible from the public internet.

Please refer to [this guide for connecting to the repositories in internal networks](../infrastructure/accessing-repositories-in-internal-networks-firewalls.md).

### How to connect to AWS CodeCommit repositories through SSH?

AWS CodeCommit requires the creation of a dedicated user for repository connections through SSH (i.e. the root user cannot be used for this purpose).

Please refer to [this guide for creating a user for SSH connections](https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-ssh-unixes.html).

- First, create a user in AWS IAM and assign the following permissions to the user:

![](https://cdn.appcircle.io/docs/assets/1.png)

- Go to IAM -> Users -> User -> Security credentials and select "Upload SSH key".
- Take a note of the SSH key ID generated by AWS as follows:

![](https://cdn.appcircle.io/docs/assets/2.png)

- Once you login with the newly generated user and copy the repository URL in SSH format, you will receive URL as follows: `ssh://git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo`
- For the SSH connection to be initialized, you need to add the public key to your URL to have it in the following format, which then can be entered in Appcircle to be used in SSH connections.`ssh://Your-SSH-Key-ID@git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo`

### How to enable triggers for AWS CodeCommit repositories?

Appcircle supports AWS CodeCommit triggers through an Amazon SNS topic.

For more information, please refer to: [https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-notify-sns.html](https://docs.aws.amazon.com/codecommit/latest/userguide/how-to-notify-sns.html)

After you follow the steps in the referenced document above to create a trigger, you need to create a notification rule under CodeCommit Settings as shown below to add a webhook URL.

![](<https://cdn.appcircle.io/docs/assets/2 (1).png>)

Then select the "Enable raw message delivery" option while adding the webhook URL as a subscription to the topic.

![](<https://cdn.appcircle.io/docs/assets/1 (1).png>)

## General Build Troubleshooting

There may be a bunch of reasons for a build to fail.

The best way to learn the reason is to check the build logs. See [**Working With Build Logs**](../build/after-a-build.md#working-with-build-logs) section for details on this.

Build logs will display everything that happened in each workflow step in detail and let you examine what went wrong during the build.

If you are unable to determine the exact cause, feel free to get in touch with Appcircle using the in-app messaging for additional support.

### Troubleshooting Workflow Steps for Build Failures

Most build failures are related with the following build steps. If you encounter any errors, [please remove or edit the following steps](../workflows/why-to-use-workflows.md) and get a build to help isolate the cause of the issue.

- **iOS Sign Errors: **If the selected provisioning profile does not match with the selected bundle ID or if the certificate is not valid, you may have an issue in the iOS signing step. In this case, you may try getting an unsigned build
- **Xcode Build for Simulator step: **This step builds your target for x86 architecture. In some projects, there may be dependencies that are not compatible with x86. In this case, please remove this step from the workflow or remove the conflicting dependencies to get a successful build.
- **Android Sign Errors: **If you encounter errors while signing your Android app, you can remove this step to get an unsigned build or you can configure the app signing within your project.

### The Build is Taking Too Long

With every build, a brand new virtual machine is started to perform your workflow and build your application.

Some applications may have 3rd party dependencies which need to be installed before the build is performed. With every new build, these dependencies need to be re-installed.

One way to speed up the build time may be to manage your dependencies in your project. This will speed up your builds significantly if your application has an excess amount of dependencies to be installed.

If you still think that your build is taking significantly longer than it should, please feel free to [**get in touch with Appcircle**](https://appcircle.io/support/) for additional support.

## iOS-Specific Issues

### Xcode Scheme Errors

Your iOS application project needs to have a shared scheme in order to be built outside Xcode. Xcode doesn't share schemes by default so you will have to do it manually.

1. On Xcode, select **Product** > **Scheme** > **Manage Schemes**
2. Select **Shared** for your `xcproject` or `xcworkspace`
3. Scheme container needs to be set to the corresponding Xcode project or workspace
4. Please do not forget to add your `.xcscheme` file to version control so it will be uploaded to your Git repository

For details on iOS builds please refer to [**Building iOS Applications**](../build/building-ios-applications.md)

### **Cocoapods Errors Due to Missing xcworkspace**

If you receive a pod error similar to the following, this usually indicates that although pods are used, the build is done with an xcodeproj file:

`error: .../_appcircle_temp/Repository/Obj-C/Pods/Target Support Files/Pods-AEPSampleAppObjC/Pods-AEPSampleAppObjC.release.xcconfig: unable to open file (in target "AEPSampleAppObjC" in project "AEPSampleAppObjC") (in target 'AEPSampleAppObjC' from project 'AEPSampleAppObjC')`

If a pod is used, the xcworkspace must be pushed to the repository and it must be selected in the build configuration for a successful build.

If you don't want to push the xcworkspace to the repository, you can alternatively enter the xcworkspace path manually in the build configuration. In this case, the xcworkspace will be generated by the Cocapods workflow component.

### Cocoapods Errros Due to Version Mismatch

If you don't set the version of Cocoapods in your Cocoapods Install step, Appcircle installs Cocoapods according to your _Podfile.lock_ file. Don't forget to commit your Podfile.lock file to have the correct version.

### Provisioning Profile Error

If you receive a provisioning profile error similar to the following, it usually indicates a mismatch between the bundle ID selected in the build configuration and the provisioning profile.

`error: "MyProject" requires a provisioning profile. Select a provisioning profile in the Signing & Capabilities editor. (in target MyProject from project MyProject)`

In such an error, please check if the correct bundle ID is selected for the build. This is especially the case if you are using different bundle IDs for different release types such as debug or release.


`Signing for "MyPod" requires a development team. Select a development team in the Signing & Capabilities editor`

Your Cocoapods dependencies may also show this error when you try to build your project with Xcode 14. To prevent this, you may try one of the following workarounds.

1. Signing with your own certificates. This requires uploading both development and distribution certificates. Therefore you either need to upload appropriate provisioning profiles or turn on [Automatic Code Signing](../signing-identities/ios-certificates-and-provisioning-profiles.md#automatic-signing).


```ruby
post_install do |installer|
    installer.pods_project.targets.each do |target|
      target.build_configurations.each do |config|
        config.build_settings["DEVELOPMENT_TEAM"] = "YOUR Team ID"
      end
    end
end
```

2. Skip signing pod bundles

```ruby
post_install do |installer|
  installer.pods_project.targets.each do |target|
    if target.respond_to?(:product_type) and target.product_type == "com.apple.product-type.bundle"
      target.build_configurations.each do |config|
          config.build_settings['CODE_SIGNING_ALLOWED'] = 'NO'
          config.build_settings['CODE_SIGNING_REQUIRED'] = 'NO'
          config.build_settings['CODE_SIGNING_IDENTITY'] = '-'
          config.build_settings['EXPANDED_CODE_SIGN_IDENTITY'] = '-'
      end
    end
  end
end
```

### Missing Entitlements

If you receive an error similar to the following, it generally means your provisioning profile doesn't have the entitlements of your project.

```
error: Provisioning profile "AppCircle" doesn't support the Push Notifications capability. (in target 'Runner' from project 'Runner)
error: Provisioning profile "AppCircle" doesn't include the aps-environment entitlement. (in target 'Runner' from project Runner')
```

Whenever you add a new capability (Push Notifications, Keychain Sharing, CloudKit...) to your project, you need to update your provisioning profile and upload it to Appcircle.

### Swift Version Error

If you receive an error similar to the following, the selected Xcode version in the build configuration may be incompatible with the selected Swift version in the project settings.

`SWIFT_VERSION '3.0' is unsupported, supported versions are: ...`

In this case, you need to upgrade the Swift version in the project settings in Xcode and once the build is confirmed to be working locally in the specific Xcode version, it can be retried in Appcircle with the same Xcode version.

![](https://lh6.googleusercontent.com/4klo-II3_K0S6tqj51Na6b9HLzq2dHH6mXftliHMNZjM1s_hyDLTS3nxn9SrXFhAxRuPmjshiSoljMLbumXBMHJIReS3E-6Fsq4ANGJIQtIuYie6L-5CuoIfqfXLe_6IEBoJv-rb)

## Android-Specific Issues

### chmod: cannot access './gradlew': No such file or directory

Every Android project has a `gradlew` file in the main repository directory. If the Android Build step can't find this file, you need to edit your workflow, find the Android Build Step and edit the `PROJECT PATH`. If your `gradlew` file is in the `android` folder, you need to write, `./android` in the edit box.

### Gradle build after Bintray shutdown

```
  > Could not resolve com.google.protobuf:protobuf-java-util:3.09.0.
      > Could not get resource 'https://jcenter.bintray.com/com/google/protobuf/protobuf-java-util/3.09.0/protobuf-java-util-3.09.0.pom'.
        > Could not GET 'https://jcenter.bintray.com/com/google/protobuf/protobuf-java-util/3.09.0/protobuf-java-util-3.09.0.pom'. Received status code 502 from server: Bad Gateway
```

You may experience gradle build errors if your project uses Bintray resources. Since JFrog has shutdown Bintray on May 1, 2021. You should update your gradle file and move to Maven Central. Replace `jcenter()` with `mavenCentral()` in all your `build.gradle` files. Please be aware that some of your dependencies may not exist on Maven.

### Gradle build daemon disappeared unexpectedly

If you receive a Gradle error similar to the following, it can happen due to 2 reasons

```
org.gradle.launcher.daemon.client.DaemonDisappearedException: Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)
    at org.gradle.launcher.daemon.client.DaemonClient.handleDaemonDisappearance(DaemonClient.java:222)
    at org.gradle.launcher.daemon.client.DaemonClient.monitorBuild(DaemonClient.java:198)
    at org.gradle.launcher.daemon.client.DaemonClient.executeBuild(DaemonClient.java:162)
    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:125)
```

- Problem with UTF-8 characters in your project or environment variable. Please edit your **gradle.properties** file and add `file.encoding=utf-8` line.
- You have edited **gradle.properties** and put some arguments to the `org.gradle.jvmargs` section. When you modify default JVM arguments, it resets the default `MaxMetaspaceSize` property. You should always add `-XX:MaxMetaspaceSize=256m` to this section to prevent unlimited memory allocation.

### I received a google-services.json Error but I don't want to push this file to the repository

Secret files such as the google-services.json can be added as a [secret environment variable](../environment-variables/managing-variables.md#adding-files-as-environment-variables) and then [selected in the build configuration](../build/build-profile-configuration.md#environment-variables-configuration).

Then, you can add a custom script step before the Android build step and move the file to the expected path during the build with a code like the following (where the secret environment variable is named as `GOOGLE_SERVICES_JSON`) :

```bash
cd $AC_REPOSITORY_DIR/
mv $GOOGLE_SERVICES_JSON $AC_REPOSITORY_DIR/app
```

### Flutter release mode binaries do not work on the Android emulator

To run a Flutter release mode APK in an emulator, please make sure that the emulator runs with the `x86_64` ABI type and the app are configured accordingly. Emulators with `x86` ABI type are not supported by Flutter . (Please refer to the following GitHub issue on the Flutter repository for more information: [https://github.com/flutter/flutter/issues/28432](https://github.com/flutter/flutter/issues/28432))

### Android Keystore Errors

#### Missing keystore path error on Android builds

You may want to build unsigned Android applications. The most common mistake done with this is Appcircle users usually forget to disable the Sign Application step in the workflow.;

If you do not select a keystore in the build configuration, you need to disable the Sign Application step or your build will fail.

#### Keystore was tampered with or password was incorrect

You may get this error message when the provided password doesn't match the keystore file.

If you are using a debug keystore, simply re-generate it. Otherwise, please make sure you have the correct keystore/password combination.

## Flutter-Specific Issues

### No pubspec.yaml file found error

If the pubspec.yaml file is not present in the default project path, it cannot be detected automatically by the fetch process. In such cases, the file path must be manually defined in the Flutter Build workflow step as the value of the `$AC_FLUTTER_PROJECT_DIR` environment variable.

For reference, please refer to the [Android Flutter Build](https://github.com/appcircleio/appcircle-android-flutter-build-component) and [iOS Flutter Build](https://github.com/appcircleio/appcircle-ios-flutter-build-component) components.

### File not found error

You may get an error like below when you're building an Android project.

```
lib/src/core/dependency/myservice.dart:12:8: Error: Error when reading ‘lib/src/data/repositories/CustomerRepository.dart’: No such file or directory
```

This error usually indicates that you didn't name your files according to Dart convention. Linux file system is case sensitive whereas Windows and macOS are not. So if your repository has `customerrepository.dart` but you're importing as `CustomerRepository.dart`, it will not work on Linux machines. To prevent this error, please rename your files and make them all lower case. Please read the following documentation related to styling and naming your files.

https://dart.dev/guides/language/effective-dart/style#do-name-libraries-and-source-files-using-lowercase_with_underscores

### Firebase Version
Your build may fail with following error

```
[!] `GoogleAppMeasurement` requires CocoaPods version `>= 1.10.2`, which is not satisfied by your current version, `1.10.1`.
```

Please edit your workflow and add **Cocoapods Install** step and change the Cocoapods version. You may also set the Cocoapods version if you commit your `Podfile.lock` to your repository.

### CocoaPods could not find compatible versions for pod "Amplify"
When does this occur?

On the first iOS build after upgrading the version of the Amplify packages in your pubspec.yaml.
Example

Below is an example of what the error will look like:

```
[!] CocoaPods could not find compatible versions for pod "Amplify":
  In snapshot (Podfile.lock):
    Amplify (= 1.6.0)
  In Podfile:
    amplify_auth_cognito (from `.symlinks/plugins/amplify_auth_cognito/ios`) was resolved to 0.0.1, which depends on
      Amplify (> 1.9.2)
You have either:
 * out-of-date source repos which you can update with `pod repo update` or with `pod install --repo-update`.
 * changed the constraints of dependency `Amplify` inside your development pod `amplify_auth_cognito`.
   You should run `pod update Amplify` to apply changes you've made.
```

**Suggested resolution**

- Option 1 (recommended): Run `pod update Amplify AWSPluginsCore AmplifyPlugins` from the ios dir. This will update the pods that are used by the amplify flutter packages.
- Option 2: Delete the `Podfile.lock` (in the ios dir) and rebuild. A new Podfile.lock will be generated. Please note, this may cause other non amplify related dependencies to be updated as well.
- Option 3: Run pod update from the ios dir. This should update your `Podfile.lock` file. Please note, this may cause other non amplify related dependencies to be updated as well.

### Cocoapods Error

`Signing for "MyPod" requires a development team. Select a development team in the Signing & Capabilities editor`

If you are using Xcode 14 and your Flutter version is less than 3.3, your build may fail with above message. You should modify your Podfile according to below snippet. Flutter 3.3 fixes this bug.  [Related Flutter Issue](https://github.com/flutter/flutter/issues/111757)

```ruby
post_install do |installer|
 installer.pods_project.targets.each do |target|
   flutter_additional_macos_build_settings(target)

   target_is_resource_bundle = target.respond_to?(:product_type) && target.product_type == 'com.apple.product-type.bundle'
   target.build_configurations.each do |build_configuration|
     if target_is_resource_bundle
       build_configuration.build_settings['CODE_SIGNING_ALLOWED'] = 'NO'
       build_configuration.build_settings['CODE_SIGNING_REQUIRED'] = 'NO'
       build_configuration.build_settings['CODE_SIGNING_IDENTITY'] = '-'
       build_configuration.build_settings['EXPANDED_CODE_SIGN_IDENTITY'] = '-'
     end
   end
  end
end
```

## React Native-Specific Issues

### ERR_OSSL_EVP_UNSUPPORTED

If you receive an error similar to the following, it’s likely that your application or a module you’re using is attempting to use an algorithm or key size which is no longer allowed by default with OpenSSL 3.0.

```
 opensslErrorStack: [ 'error:03000086:digital envelope routines::initialization error' ],
  library: 'digital envelope routines',
  reason: 'unsupported',
  code: 'ERR_OSSL_EVP_UNSUPPORTED'
```  

You can either add the command-line option, `--openssl-legacy-provider` to your build scripts or change your node version to v16.x

### NPM/Yarn specific errors

If you face problems during NPM/Yarn install steps on Appcircle but not on your local machine, you should confirm the following steps:

- [x] Make sure that your packages support the node version you use.
- [x] Make sure that the file interactions that is done on `preinstall` and/or `postinstall` scrips are suitable to be executed on a different machine

### Disable Flipper SDK on iOS

Flipper can be a good tool for debugging your applications. It still gets built even if it's not being used for release builds. To speed up your builds, Flipper can be disabled on Appcircle by making the Flipper SDK inclusion conditional.

Example Podfile modification:

```ruby
  if !ENV['AC_APPCIRCLE']
    use_flipper!
    post_install do |installer|
      flipper_post_install(installer)
    end
  end
```

:::tip

Appcircle uses the lts(Long Term Support) node version by default.

:::

You can access how to change your node version and other relative information about workflow steps and configurations on the page below:

<ContentRef url="/workflows/react-native-specific-workflow-steps">React Native Specific Workflow Steps</ContentRef>

## App Distribution Troubleshooting

### No files or multiple files were received from autodistribute;

A successful distribution depends on a correctly signed binary. Please check if the [signing configuration](../build/build-profile-configuration.md#signing-configuration) is correct.

You can also check the list of the [generated build artifacts](../build/after-a-build.md) to confirm the output. In Android, you can also check the `ac_post_process_output.json` file in the build artifacts to see if the APKs are signed or not.

In Android, please also check if gradle sign is being used for the selected build variant. If gradle sign works alongside with Appcircle signing, you will receive multiple APKs.

### Deleted versions still occupy storage space

The master version of any artifact deployed from the Build to the Distribute module is stored within the build artifacts section. Once you delete such a version from the Distribute module, only the reference is removed and the binary is still available within the build artifacts of the related build. You also need to remove the binary from the build artifacts to save storage.

### Access Denied on builds

On some distributed apps, the **Access Denied** error can be bypassed by one of these steps:

- Launching the distribution link on a different browser and Incognito Mode
- Clearing the browser cache if the link is pasted to a browser instead of in-line browser on mail applications
- If there is an authorization configuration on Distribution, clearing the authorization temporarily

### Artifact Storage is Full

Older builds and/or testing distributions will use almost all of your storage. If your artifact storage is full, you can free up some of the old artifacts.

#### [Refer here to delete a build profile](../build/adding-a-build-profile/README.md#delete-a-build-profile)

#### [Refer here to delete specific builds from your build profile](../build/after-a-build.md#delete-specific-builds)

#### [Refer here to delete testing distribution profiles and specific distribution artifacts](../distribute/create-or-select-a-distribution-profile.md#delete-a-distribution-profile)

#### [Refer here to delete a Google Play Store Submit Profile](../store-submit/google-play.md#deleting-google-play-store-submit-profiles)

#### [Refer here to delete an App Store Connect Profile](../store-submit/apple-app-store.md#deleting-app-store-connect-profiles)

In order for storage to be freed up, you should also remove the other references pointing to the artifact. In example, if you have built an app, distributed it to testers, and submitted it to the Store Submit, you should delete that build from Testing Distribution, Store Submit, and Builds respectively.

:::caution

It may take a couple of minutes to see the change in your account after you have deleted some artifacts.

:::

If you still can't solve your issues, ask on our Slack page. Our community and our support engineers will help you whenever they're available:

import NeedHelp from '@site/docs/\_need-help.mdx';

<NeedHelp />
